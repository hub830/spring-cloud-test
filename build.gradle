plugins {
  id 'org.springframework.boot' version '2.1.5.RELEASE'
  id 'java'
}

group 'spring-cloud-test'
version = '0.0.1-SNAPSHOT'
apply plugin: 'java'
sourceCompatibility = 1.8


allprojects {
  repositories {
//    maven { url "http://10.0.0.10:8020/repository/maven-public/" }
    maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
    maven { url "http://192.168.10.10:8081/repository/maven-public/" }
    jcenter()
    mavenCentral()
  }
  //ָ�������ʽ
  tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
  }
}

//�趨��ǰģ����Ŀ�е�����
subprojects {
  apply plugin: 'java'
  apply plugin: 'idea'
  apply plugin: 'org.springframework.boot'
  apply plugin: 'io.spring.dependency-management'
  dependencies {
    compile ('org.springframework.boot:spring-boot-starter-web')
    testCompile('org.springframework.boot:spring-boot-starter-test')
    testImplementation('org.junit.jupiter:junit-jupiter-api:5.2.0')
    testCompile('org.junit.jupiter:junit-jupiter-params:5.2.0')
    testRuntime('org.junit.jupiter:junit-jupiter-engine:5.2.0')
    //      testCompile "org.mockito:mockito-core:2.+"
    testCompile('org.mockito:mockito-junit-jupiter:2.18.3')
  }

  ext {
    set('springCloudVersion', "Greenwich.SR1")
  }

  dependencyManagement {
    resolutionStrategy { cacheChangingModulesFor 0, 'seconds' }
    imports {
      mavenBom "org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}"
    }
  }
  jar {
    manifest.attributes provider: 'gradle'
  }
}